<%-include('header')-%>


    <!-- navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white py-4 fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex justify-content-between align-items-center order-lg-0" href="/">
                <span class="text-uppercase fw-lighter ms-2">GOCYCLE</span>
            </a>

            <div class="order-lg-2 nav-btns">
                <button type="button" class="btn position-relative">
                    <a href="/cart" class="fa fa-shopping-cart"></a>
                    <span class="position-absolute top-0 start-100 translate-middle badge bg-primary"></span>
                    <span class="badge badge-light" id="cart-count"></span>
                </button>
                <button type="button" class="btn position-relative">
                    <i class="fa fa-heart"></i>
                    <span class="position-absolute top-0 start-100 translate-middle badge bg-primary"></span>
                </button>
                <button type="button" class="btn position-relative">
                    <i class="fa fa-search"></i>
                </button>
            </div>

            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse order-lg-1" id="navMenu">
                <ul class="navbar-nav mx-auto text-center">
                    <li class="nav-item px-2 py-2">
                        <a class="nav-link text-uppercase text-dark" href="/">home</a>
                    </li>
                    <li class="nav-item px-2 py-2">
                        <a class="nav-link text-uppercase text-dark" href="#collection">collection</a>
                    </li>
                    <li class="nav-item px-2 py-2">
                        <a class="nav-link text-uppercase text-dark" href="#special">specials</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- end of navbar -->


    <div class="breadcrumb-area-3 pt-130 " style="padding-top: 150px;">
        <div class="container">
            <div class="row">
                <div class="col-xxl-12">
                    <div class="breadcrumb-wrapper-2 text-center">
                        <h3>Address</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <section class="container mt-50 mb-100">

        <div class="col-md-12 mt-3">
            <div class="coupon-accordion">
                <!-- ACCORDION START -->
                <div id="checkout-login" class="coupon-content">
                    <div class="coupon-info">
                        <form action="/saveaddress" method="post" id="" class="billing-form">
                            <div class="form-group">


                                <div class="w-100"></div>
                                <div class="row align-items-end">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="streetaddress">First Name</label>
                                            <input type="text" class="form-control" name="firstname" required
                                                placeholder="First name">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="streetaddress">Last Name</label>
                                            <input type="text" class="form-control" name="lastname" required
                                                placeholder="Last name">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="streetaddress">Street Address</label>
                                            <input type="text" class="form-control" name="address" required
                                                placeholder="House number and building name">
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="streetaddress">Town</label>
                                            <input type="text" class="form-control" name="town" required
                                                placeholder="Town">
                                        </div>
                                    </div>
                                    <div class="w-100"></div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="towncity">State / City</label>
                                            <input type="text " name="state" required class="form-control"
                                                placeholder="State">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="postcodezip">Postcode / ZIP *</label>
                                            <input type="number" name="pincode" required class="form-control"
                                                placeholder="postcode">
                                        </div>
                                    </div>
                                    <div class="w-100"></div>
                                    <div class="col-xl-8 ftco-animate">
                                        <button type="submit" class="btn btn-primary mt-5 py-3  px-4">save Address
                                        </button>
                                    </div>


                        </form>
                    </div>
                </div>
                <!-- ACCORDION END -->
            </div>
        </div>



        <%if(addedAddress == 0){%>

            <p class="text-center">No Data Found</p>
            <%}%>
                <%addedAddress.forEach((element,i)=>{%>
                    <div class="row shadow mt-3 rounded p-3 align-items-center">
                        <div class="col-md-3">
                            <%=element.firstname%>
                            <%=element.lastname%>
                        </div>

                        <div class="col-md-4">
                            <%=element.address%> ,
                            <%=element.town%><br>
                        </div>
                        <div class="col-md-3">
                            <span>Pin :</span>
                            <%=element.pincode%> ,<br>
                        </div>

                        <div class="col-md-2">
                            <div class="text-end">
                                <button onclick="removeAddress('<%=element._id%>')" class="btn btn-primary pt-2">Remove</button>
                            </div>
                        </div>

                    </div>
                    <%})%>

    </section>


    <script>
        function removeAddress(proId) {
            Swal.fire({
                title: 'Are you sure?',
                text: "You won't be able to revert this!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, cancel it!'
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire(
                        'Order Canceled!',
                        'Your order has been canceled.',
                        'success'
                    ).then(() => {
                        location.href = `/removeaddress/${proId}`
                    })
                }
            })
        }
    </script>


    <%-include('footer')-%>